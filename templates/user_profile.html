{% extends 'base.html' %}
{% block content %}

<p>Other User Profile</p>

<h1>{{ user.username }}'s Posts</h1>

<!-- Follow unfollow -->
{% if current_user != user %}
  {% if current_user.is_following(user) %}
    <form action="{{ url_for('unfollow', user_id=user.id) }}" method="POST">
      <button type="submit">Unfollow</button>
    </form>
  {% else %}
    <form action="{{ url_for('follow', user_id=user.id) }}" method="POST">
      <button type="submit">Follow</button>
    </form>
  {% endif %}
{% endif %}

<!-- SOWE POST -->
{% for post in posts %}
<div>
    <p>  
        <span>
        {% if post.user.profile_picture %}
            <img src="{{ url_for('static', filename='profile_pictures/' + post.user.profile_picture) }}" alt="Profile Picture">
        {% else %}
         <img src="{{ url_for('static', filename='images/blank-profile-pic.png') }}" alt="Profile Picture">
        {% endif %}
    </span>
    <strong>{{ post.user.username }}</strong>
    
    </p>
    <br>
    <p>{{ post.body }}</p>
    <p style="font-weight:lighter">

        <!-- Like ♥ -->
        <p>
            <a href="#" class="like-button" data-post-id="{{ post.id }}" {% if current_user and post in current_user.liked_posts %}class="liked"{% endif %} onclick="likePost(event, this); return false;">
                <span class="likes-wrapper">
                {% if post.likes == 1 %}
                    <span class="heart-emoji red-heart">♥</span>
                {% else %}
                    <span class="heart-emoji empty-heart">♥</span>
                {% endif %}
                <span class="likes-count">{{ post.likes }}</span>
                </span>
            </a>
            </p> 
            <!-- End of Like ♥ -->

        {{ post.created_at.strftime('%B %Y') }}
        <a href="{{ url_for('show_post', post_id=post.id) }}"> Comment </a>
    <br>
    </p>
    <br><hr>

</div>
{% endfor %}

{% endblock %}